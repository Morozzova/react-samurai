{"version":3,"sources":["redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","components/Navbar/Navbar.module.css","components/Navbar/Friends/Friends.module.css","components/Navbar/Friends/FriendItem/FriendItem.module.css","api/api.js","components/Navbar/Nav/Nav.module.css","components/Login/Login.module.css","reportWebVitals.js","components/Navbar/Nav/Nav.jsx","components/Navbar/Friends/FriendItem/FriendItem.jsx","components/Navbar/Friends/Friends.jsx","components/Navbar/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/LoginFormik.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/common/FormsControls/FormsControls.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["ADD_MESSAGE","DELETE_MESSAGE","initialState","dialogsData","id","name","avatar","messagesData","message","addMessageActionCreator","type","dialogsReducer","state","action","newMessage","filter","m","lastMessageId","updateObjectInArray","items","itemId","objPropName","objNewProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","usersData","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userID","unfollowSuccess","setCurrentPage","setTotalUsersCount","toggleIsFetching","toggleFollowingProgress","userId","requestUsers","page","dispatch","a","usersAPI","getUsers","response","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","followUser","bind","unfollow","unfollowUser","usersReducer","followed","module","exports","instance","axios","withCredentials","headers","baseURL","get","then","data","post","delete","showUsersProfile","console","warn","profileAPI","getStatus","updateMyStatus","put","status","updateMyPhoto","file","formData","FormData","append","updateMyProfile","aboutMe","lookingForAJob","lookingForAJobDescription","fullName","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","authAPI","showMyProfile","loginHere","email","password","rememberMe","captcha","logOut","securityAPI","getCaptcha","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Nav","className","s","nav","item","to","navData","isActive","activeLink","FriendItem","props","friendItem","src","Friends","friendsElements","friends","f","FriendsContainer","connect","sidebar","Navbar","navbar","News","Music","Settings","Header","header","loginBlock","isAuth","login","onClick","logOutOnSite","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getMyProfile","getCaptchaUrl","url","authReducer","HeaderContainer","this","React","Component","auth","LoginFormik","formik","useFormik","initialValues","validationSchema","Yup","required","max","onSubmit","values","actions","onSubmitFormik","handleSubmit","formControl","touched","errors","error","placeholder","onChange","handleChange","onBlur","handleBlur","value","formSummaryError","LoginReduxForm","reduxForm","form","fields","createField","Input","Field","component","validate","Login","loginWrapper","loginOnSite","setStatus","undefined","LoginContainer","messages","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","fallback","Preloader","path","element","AppContainer","promise","Promise","all","SamuraiJSApp","StrictMode","ReactDOM","render","document","getElementById","FormControl","input","meta","children","hasError","Textarea","restProps","child","validators","maxLengthCreator","maxLength","length","role","preloader","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","UPDATE_PROFILE_SUCCESS","SET_EDIT_MODE","postsData","text","likes","profile","userStatus","infoEditMode","addPostActionCreator","setUserStatus","toggleEditMode","isEditMode","getUserProfile","getUserStatus","updateStatus","savePhoto","photos","updateProfile","getState","newPost","p","postId"],"mappings":"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","file":"static/js/main.b03dcbf8.chunk.js","sourcesContent":["const ADD_MESSAGE = \"ADD-MESSAGE\";\r\nconst DELETE_MESSAGE = \"DELETE_MESSAGE\";\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {\r\n            id: 1,\r\n            name: \"Sasha\",\r\n            avatar: \"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg\"\r\n        },\r\n        {\r\n            id: 2,\r\n            name: \"Masha\",\r\n            avatar: \"https://s6.hostingkartinok.com/uploads/images/2014/03/5dbd298fc0e0a062b2e103ff2d947004.jpeg\"\r\n        },\r\n        {\r\n            id: 3,\r\n            name: \"Yulia\",\r\n            avatar: \"https://i.pinimg.com/736x/f9/44/c4/f944c40e5d4027a3a0fe7dfa729cfc51.jpg\"\r\n        },\r\n        {id: 4, name: \"Igor\", avatar: \"https://sun1-84.userapi.com/c854528/v854528114/25953e/DZIzha5iftQ.jpg\"},\r\n        {\r\n            id: 5,\r\n            name: \"Sergey\",\r\n            avatar: \"https://authorsofmainstreet.files.wordpress.com/2016/01/file0001179129151.jpg\"\r\n        },\r\n        {id: 6, name: \"Alexey\", avatar: \"https://pixelbox.ru/wp-content/uploads/2020/12/ava-vk-cats-76.jpg\"},\r\n        {\r\n            id: 7,\r\n            name: \"Oleg\",\r\n            avatar: \"https://proprikol.ru/wp-content/uploads/2019/09/prikolnye-foto-na-avu-dlya-devochek-21.jpg\"\r\n        }\r\n    ],\r\n    messagesData: [\r\n        {\r\n            id: 1,\r\n            message: \"Hi\",\r\n            avatar: \"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg\"\r\n        },\r\n        {\r\n            id: 2,\r\n            message: \"Hello! How are you?\",\r\n            avatar: \"https://s6.hostingkartinok.com/uploads/images/2014/03/5dbd298fc0e0a062b2e103ff2d947004.jpeg\"\r\n        },\r\n        {\r\n            id: 3,\r\n            message: \"I make sites!!! Web-development is cool.\",\r\n            avatar: \"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg\"\r\n        },\r\n        {\r\n            id: 4,\r\n            message: \"Glad to hear. :)\",\r\n            avatar: \"https://s6.hostingkartinok.com/uploads/images/2014/03/5dbd298fc0e0a062b2e103ff2d947004.jpeg\"\r\n        },\r\n        {\r\n            id: 5,\r\n            message: \"What are you doing tonight?\",\r\n            avatar: \"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg\"\r\n        }\r\n    ]\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let newMessage = {\r\n                id: 6,\r\n                message: action.message,\r\n                avatar: \"https://s6.hostingkartinok.com/uploads/images/2014/03/5dbd298fc0e0a062b2e103ff2d947004.jpeg\"\r\n            }\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, newMessage]\r\n            };\r\n        }\r\n        case DELETE_MESSAGE: {\r\n\r\n            return {\r\n                ...state,\r\n                messagesData: state.messagesData.filter(m => m.id != action.lastMessageId)\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (message) => {\r\n    return {type: ADD_MESSAGE, message}\r\n};\r\nexport const deleteMessageActionCreator = (lastMessageId) => {\r\n    return {type: DELETE_MESSAGE, lastMessageId}\r\n};\r\n\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, objNewProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...objNewProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\nimport React from \"react\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n    usersData: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.userID, \"id\", {followed: true} )\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.userID, \"id\", {followed: false} )\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                usersData: [...action.usersData]\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID})\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, userID})\r\nexport const setUsers = (usersData) => ({type: SET_USERS, usersData})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    toggleIsFetching(true);\r\n    dispatch(setCurrentPage(page));\r\n    let response = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), followSuccess);\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollowUser.bind(usersAPI), unfollowSuccess);\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__QKhqv\",\"item\":\"Navbar_item__3XZ_2\",\"activeLink\":\"Navbar_activeLink__2-m3i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__1c6P8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendItem\":\"FriendItem_friendItem__tA1dt\"};","import React from \"react\";\r\nimport * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"58104371-4566-41cd-8503-b9344f9372ef\"\r\n    },\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\"\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    followUser(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    unfollowUser(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    showUsersProfile(userId) {\r\n        console.warn('Obsolete method. Use profileAPI object.');\r\n        return profileAPI.showUsersProfile(userId);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    showUsersProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    updateMyStatus(message) {\r\n        return instance.put(`profile/status`, {status: message})\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    updateMyPhoto(file) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", file);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    updateMyProfile(formData) {\r\n        return instance.put(`profile`, {\r\n            aboutMe: formData.aboutMe,\r\n            lookingForAJob: formData.lookingForAJob,\r\n            lookingForAJobDescription: formData.lookingForAJobDescription,\r\n            fullName: formData.fullName,\r\n            contacts: {\r\n                github: formData.github,\r\n                vk: formData.vk,\r\n                facebook: formData.facebook,\r\n                instagram: formData.instagram,\r\n                twitter: formData.twitter,\r\n                website: formData.website,\r\n                youtube: formData.youtube,\r\n                mainLink: formData.mainLink\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    showMyProfile() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    loginHere(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email: email, password: password, rememberMe: rememberMe, captcha: captcha})\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    logOut() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Nav_item__3crZ4\",\"activeLink\":\"Nav_activeLink__2MPRi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"Login_loginWrapper__1BhhF\",\"formSummaryError\":\"Login_formSummaryError__3AeYW\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import s from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <ul>\r\n            <li className={s.item}>\r\n                <NavLink to=\"/profile\" className={(navData) => navData.isActive ? s.activeLink : ''}>Profile</NavLink>\r\n            </li>\r\n            <li className={s.item}>\r\n                <NavLink to=\"/dialogs\" className={(navData) => navData.isActive ? s.activeLink : ''}>Messages</NavLink>\r\n            </li>\r\n            <li className={s.item}>\r\n                <NavLink to=\"/news\" className={(navData) => navData.isActive ? s.activeLink : ''}>News</NavLink>\r\n            </li>\r\n            <li className={s.item}>\r\n                <NavLink to=\"/music\" className={(navData) => navData.isActive ? s.activeLink : ''}>Music</NavLink>\r\n            </li>\r\n            <li className={s.item}>\r\n                <NavLink to=\"/users\" className={(navData) => navData.isActive ? s.activeLink : ''}>Users</NavLink>\r\n            </li>\r\n            <li className={s.item}>\r\n                <NavLink to=\"/settings\" className={(navData) => navData.isActive ? s.activeLink : ''}>Settings</NavLink>\r\n            </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav;","import s from './FriendItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst FriendItem = (props) => {\r\n    return (\r\n        <li className={s.friendItem}><NavLink to={\"/dialogs/\" + props.id}><img src={props.avatar}/><div>{props.name}</div>\r\n        </NavLink></li>\r\n    )\r\n}\r\n\r\nexport default FriendItem;","import s from './Friends.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendItem from \"./FriendItem/FriendItem\";\r\nimport React from \"react\";\r\n\r\nconst Friends = (props) => {\r\n    let friendsElements = props.friends.map((f) => <FriendItem id={f.id} name={f.name} avatar={f.avatar} key={f.id} />)\r\n    return (\r\n        <div>\r\n            <h3>Friends</h3>\r\n                <ul className={s.friends}>\r\n                    {friendsElements}\r\n                </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.sidebar.friends\r\n    }\r\n}\r\n\r\nconst FriendsContainer = connect(mapStateToProps)(Friends);\r\n\r\nexport default FriendsContainer;","import s from './Navbar.module.css';\r\nimport Nav from \"./Nav/Nav\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\n\r\nconst Navbar = () => {\r\n\r\n    return (\r\n        <div className={s.navbar}>\r\n            <Nav/>\r\n            <FriendsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Navbar;","import s from \"./News.module.css\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import s from \"./Music.module.css\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import s from \"./Settings.module.css\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import s from './Header.module.css';\r\nimport {Link, NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <img src='https://www.freelogodesign.org/Content/img/logo-ex-7.png'/>\r\n            <div className={s.loginBlock}>\r\n                <div>\r\n                    {props.isAuth\r\n                        ? <div>{props.login} - <button onClick={props.logOutOnSite}>Logout</button></div>\r\n                        : <NavLink to={'/login'}>Login</NavLink>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_DATA = \"react-samurai/auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"react-samurai/auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    password: null,\r\n    rememberMe: false,\r\n    captchaUrl: null //if null, then captcha is not required\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n})\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n})\r\n\r\nexport const getMyProfile = () => async (dispatch) => {\r\n    let response = await authAPI.showMyProfile();\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const loginOnSite = (email, password, rememberMe = false, captcha = null, actions) => async (dispatch) => {\r\n    let response = await authAPI.loginHere(email, password, rememberMe, captcha);\r\n    if (response.resultCode === 0) {\r\n        dispatch(getMyProfile());\r\n    } else {\r\n        /*let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));*/\r\n        if (response.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        actions.setStatus(response.messages);\r\n    }\r\n}\r\nexport const logOutOnSite = () => async (dispatch) => {\r\n    let response = await authAPI.logOut();\r\n    if (response.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n        dispatch(getCaptchaUrlSuccess(null));\r\n    }\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptcha();\r\n    const captchaUrl = response.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logOutOnSite} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logOutOnSite})(HeaderContainer);","import {useFormik} from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport React, {useState} from \"react\";\r\nimport s from \"./Login.module.css\";\r\n\r\nconst LoginFormik = (props) => {\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            login: \"\",\r\n            password: \"\",\r\n            rememberMe: false,\r\n            captcha: null\r\n        },\r\n        validationSchema: Yup.object({\r\n            login: Yup.string().required(\"Введите логин\")\r\n                .max(50, \"Максимальная длина - 50 символов\"),\r\n            password: Yup.string().required(\"Введите пароль\")\r\n                .max(30, \"Максимальная длина - 30 символов\")\r\n        }),\r\n        onSubmit(values, actions) {\r\n            props.onSubmitFormik(values, actions);\r\n\r\n        }\r\n    })\r\n    return (\r\n        <div>\r\n            <h3>Login Formik</h3>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <div className={s.formControl + \" \" + (formik.touched.login && formik.errors.login ? s.error : \"\")}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Login\"\r\n                        name=\"login\"\r\n                        id=\"login\"\r\n                        onChange={formik.handleChange}\r\n                        onBlur={formik.handleBlur}\r\n                        value={formik.values.login}/>\r\n\r\n                    {formik.touched.login && formik.errors.login ? <div>{formik.errors.login}</div> : null}\r\n                </div>\r\n                <div\r\n                    className={s.formControl + \" \" + (formik.touched.password && formik.errors.password ? s.error : \"\")}>\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        name=\"password\"\r\n                        id=\"password\"\r\n                        onChange={formik.handleChange}\r\n                        onBlur={formik.handleBlur}\r\n                        value={formik.values.password}/>\r\n\r\n                    {formik.touched.password && formik.errors.password ? <div>{formik.errors.password}</div> : null}\r\n                </div>\r\n                <div\r\n                    className={s.formControl + \" \" + (formik.touched.password && formik.errors.password ? s.error : \"\")}>\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"rememberMe\"\r\n                        id=\"rememberMe\"\r\n                        onChange={formik.handleChange}\r\n                        onBlur={formik.handleBlur}\r\n                        value={formik.values.rememberMe}/>\r\n                </div>\r\n                {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n                {props.captchaUrl && <div><input type=\"text\" name=\"captcha\"\r\n                                                 id=\"captcha\" required onChange={formik.handleChange}\r\n                                                 onBlur={formik.handleBlur}\r\n                                                 value={formik.values.captcha}/></div>}\r\n                {formik.status && <div className={s.formSummaryError}>\r\n                    {formik.status}\r\n                </div>}\r\n\r\n                <div>\r\n                    <button type=\"submit\">Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginFormik;","import s from \"./Login.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport LoginFormik from \"./LoginFormik\";\r\nimport React from \"react\";\r\nimport {Navigate} from \"react-router\";\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.loginOnSite(formData.login, formData.password, formData.rememberMe);\r\n    }\r\n    const onSubmitFormik = (formData, actions) => {\r\n        actions.setStatus(undefined);\r\n        props.loginOnSite(formData.login, formData.password, formData.rememberMe, formData.captcha, actions);\r\n    }\r\n    if (props.isAuth) {\r\n        return <Navigate to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.loginWrapper}>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n\r\n            <LoginFormik onSubmitFormik={onSubmitFormik} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n                {createField(\"Login\", \"login\", [required], Input)}\r\n            <div><Field placeholder={\"Password\"} name={\"password\"}\r\n                        component={Input}\r\n                        validate={[required]}/>\r\n            </div>\r\n            <div><Field type={\"checkbox\"} name={\"rememberMe\"}\r\n                        component={Input}/> remember me\r\n            </div>\r\n\r\n            {error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login',                           // a unique name for this form\r\n    fields: ['login', 'password', 'rememberMe'] // all the fields in your form\r\n})(LoginForm);\r\n\r\nexport default Login;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Login from \"./Login\";\r\nimport {getCaptchaUrl, loginOnSite} from \"../../redux/auth-reducer\";\r\n\r\nclass LoginContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Login {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    password: state.auth.password,\r\n    rememberMe: state.auth.rememberMe,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {loginOnSite, getCaptchaUrl})(LoginContainer);","import {getMyProfile} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getMyProfile());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess())\r\n        });\r\n}\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            name: \"Sasha\",\r\n            avatar: \"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg\"\r\n        },\r\n        {\r\n            id: 2,\r\n            name: \"Masha\",\r\n            avatar: \"https://s6.hostingkartinok.com/uploads/images/2014/03/5dbd298fc0e0a062b2e103ff2d947004.jpeg\"\r\n        },\r\n        {\r\n            id: 3,\r\n            name: \"Yulia\",\r\n            avatar: \"https://i.pinimg.com/736x/f9/44/c4/f944c40e5d4027a3a0fe7dfa729cfc51.jpg\"\r\n        }\r\n    ]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    sidebar: sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport {Routes, Route, HashRouter} from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginContainer from \"./components/Login/LoginContainer\";\nimport React, {Component, Suspense} from \"react\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Suspense fallback={<Preloader/>}>\n                        <Routes>\n\n                            <Route path=\"/profile/*\" element={<ProfileContainer\n                            />}/>\n                            <Route path=\"/dialogs/*\" element={<DialogsContainer\n                            />}/>\n                            <Route path=\"/news/*\" element={<News/>}/>\n                            <Route path=\"/music/*\" element={<Music/>}/>\n                            <Route path=\"/users/*\" element={<UsersContainer/>}/>\n                            <Route path=\"/settings/*\" element={<Settings/>}/>\n                            <Route path=\"/login/*\" element={<LoginContainer/>}/>\n\n                        </Routes>\n                    </Suspense>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = connect(mapStateToProps, {initializeApp})(App);\n\nconst SamuraiJSApp = (props) => {\n    return (\n        <React.StrictMode>\n            <HashRouter>\n                <Provider store={store}>\n                    <AppContainer/>\n                </Provider>\n            </HashRouter>\n        </React.StrictMode>\n    )\n}\n\nexport default SamuraiJSApp;","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJSApp from \"./App\";\n\n    ReactDOM.render(\n        <React.StrictMode>\n            <SamuraiJSApp />\n        </React.StrictMode>,\n        document.getElementById('root')\n    );\n\nreportWebVitals();","import s from './FormsControls.module.css';\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\nimport React from \"react\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\nexport const TextareaFormik = (props) => {\r\n    return (\r\n        <div className={s.formControl}>\r\n            <div>\r\n                <textarea/>\r\n            </div>\r\n            <span>Error</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props) => {\r\n    return (\r\n        <div><Field placeholder={placeholder} name={name}\r\n                    component={component}\r\n                    validate={validators}\r\n                    {...props} />\r\n        </div>\r\n    )\r\n}","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__37HNy\",\"error\":\"FormsControls_error__1We00\"};","export default __webpack_public_path__ + \"static/media/preloader.3b24a6b9.svg\";","import preloader from \"../../../assets/images/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div role={'main'}>\r\n            <img src={preloader}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__33Rad\",\"loginBlock\":\"Header_loginBlock__Ur8Wu\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\nconst UPDATE_PROFILE_SUCCESS = \"UPDATE_PROFILE_SUCCESS\";\r\nconst SET_EDIT_MODE = \"SET_EDIT_MODE\";\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {\r\n            id: 1,\r\n            text: \"Hi! How are you?\",\r\n            likes: 7,\r\n            avatar: \"https://million-wallpapers.ru/wallpapers/5/51/small/455458761658281.jpg\"\r\n        },\r\n        {\r\n            id: 2,\r\n            text: \"This is my first post.\",\r\n            likes: 18,\r\n            avatar: \"https://cs6.pikabu.ru/avatars/404/x404070-828004264.png\"\r\n        },\r\n        {\r\n            id: 3,\r\n            text: \"I wanna be a programmer.\",\r\n            likes: 1000,\r\n            avatar: \"https://img3.goodfon.ru/original/320x240/f/89/elenasai-risounok-lico.jpg\"\r\n        }\r\n    ],\r\n    profile: null,\r\n    userStatus: \"\",\r\n    infoEditMode: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost =\r\n                {\r\n                    id: 5,\r\n                    text: action.post,\r\n                    likes: 0,\r\n                    avatar: \"https://rust.booknet.com/uploads/user_avatars_new/160/1557413030_859480.png\"\r\n                };\r\n\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                userStatus: action.userStatus\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        case UPDATE_PROFILE_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_EDIT_MODE: {\r\n            return {\r\n                ...state,\r\n                infoEditMode: action.isEditMode\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (post) => ({type: ADD_POST, post});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (userStatus) => ({type: SET_USER_STATUS, userStatus});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\nexport const updateProfileSuccess = (profile) => ({type: UPDATE_PROFILE_SUCCESS, profile});\r\nexport const toggleEditMode = (isEditMode) => ({type: SET_EDIT_MODE, isEditMode});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.showUsersProfile(userId);\r\n    dispatch(setUserProfile(response));\r\n}\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response));\r\n\r\n}\r\nexport const updateStatus = (message) => async (dispatch) => {\r\n    let response = await profileAPI.updateMyStatus(message)\r\n    if (response.resultCode === 0) {\r\n        dispatch(setUserStatus(message));\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.updateMyPhoto(file)\r\n    if (response.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.photos));\r\n    }\r\n}\r\nexport const updateProfile = (formData, actions) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.updateMyProfile(formData)\r\n    if (response.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n        dispatch(toggleEditMode(false));\r\n    } else {\r\n        actions.setStatus(response.messages);\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}