(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{297:function(e,t,o){"use strict";var i=o(3),s=o(7),n=o(8),r=o(13),c=o(14),a=o(0),l=o.n(a),u=o(5),d=o(24),j=o(1),b=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){Object(r.a)(a,t);var o=Object(c.a)(a);function a(){return Object(s.a)(this,a),o.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(i.a)({},this.props)):Object(j.jsx)(u.a,{to:"/login"})}}]),a}(l.a.Component);return Object(d.b)(b)(t)}},298:function(e,t,o){"use strict";t.a=o.p+"static/media/no-avatar.107c548b.png"},303:function(e,t,o){},304:function(e,t,o){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__lauYh",job:"ProfileInfo_job__UIY3q",searchingJob:"ProfileInfo_searchingJob__1-lv8",profilePhoto:"ProfileInfo_profilePhoto__h_eP6"}},305:function(e,t,o){e.exports={profileErrors:"ProfileForm_profileErrors__2qh2e"}},306:function(e,t,o){e.exports={postsBlock:"MyPosts_postsBlock__-r0VZ",posts:"MyPosts_posts__3MdaJ"}},307:function(e,t,o){e.exports={item:"Post_item__1SdE7"}},310:function(e,t,o){"use strict";o.r(t);var i=o(3),s=o(0),n=o.n(s),r=o(24),c=o(98),a=o(303),l=o.n(a),u=o(304),d=o.n(u),j=o(92),b=o(25),h=o(1),p=function(e){var t=Object(s.useState)(!1),o=Object(b.a)(t,2),i=o[0],n=o[1],r=Object(s.useState)(e.status),c=Object(b.a)(r,2),a=c[0],l=c[1];Object(s.useEffect)((function(){l(e.status)}),[e.status]);return Object(h.jsxs)("div",{children:[!i&&Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",Object(h.jsx)("span",{onDoubleClick:function(){n(!0)},children:e.status||"------"})]}),i&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(a)},onChange:function(e){l(e.currentTarget.value)},value:a})})]})},f=o(298),O=o(97),x=o(67),g=o(305),m=o.n(g),v=function(e){var t=Object(O.a)({initialValues:{aboutMe:e.profile.aboutMe,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,fullName:e.profile.fullName,github:e.profile.contacts.github,vk:e.profile.contacts.vk,facebook:e.profile.contacts.facebook,instagram:e.profile.contacts.instagram,twitter:e.profile.contacts.twitter,website:e.profile.contacts.website,youtube:e.profile.contacts.youtube,mainLink:e.profile.contacts.mainLink,authorizedUserId:e.authorizedUserId},onSubmit:function(t,o){e.updateProfile(t,o)}});return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"Update profile"})}),t.status&&Object(h.jsx)("div",{children:Object(h.jsx)("ul",{children:t.status.map((function(e){return Object(h.jsx)("li",{className:m.a.profileErrors,children:e})}))})}),Object(h.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435 ",Object(h.jsx)("input",{type:"text",name:"aboutMe",id:"aboutMe",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.aboutMe})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.lookingForAJob}),"\u042f \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"]}),Object(h.jsxs)("div",{children:["\u041a\u0430\u043a\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u044f \u0438\u0449\u0443? ",Object(h.jsx)("input",{type:"text",name:"lookingForAJobDescription",id:"lookingForAJobDescription",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.lookingForAJobDescription}),t.touched.lookingForAJobDescription&&t.errors.lookingForAJobDescription?Object(h.jsx)("div",{children:t.errors.lookingForAJobDescription}):null]}),Object(h.jsxs)("div",{children:["\u0424\u0418\u041e ",Object(h.jsx)("input",{type:"text",name:"fullName",id:"fullName",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.fullName}),t.touched.fullName&&t.errors.fullName?Object(h.jsx)("div",{children:t.errors.fullName}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object.keys(e.profile.contacts).map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:e})," ",Object(h.jsx)("input",{type:"text",name:e,id:e,onChange:t.handleChange,onBlur:t.handleBlur,value:t.values[e]})]},e)}))]})]})})},A=function(e){var t=e.contactTitle,o=e.contactValue;return Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:t}),": ",o]})},M=function(e){var t=e.profile;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(h.jsx)("ul",{children:Object.keys(t.contacts).map((function(e){return Object(h.jsx)(A,{contactTitle:e,contactValue:t.contacts[e]},e)}))})]})},I=function(e){var t=e.profile,o=e.isOwner,i=e.toggleEditMode;return Object(h.jsxs)("div",{className:d.a.descriptionBlock,children:[o&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return i(!0)},children:"Edit"})}),Object(h.jsx)("h2",{children:t.fullName}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435: "}),t.aboutMe]}),Object(h.jsx)("div",{className:d.a.job,children:t.lookingForAJob?Object(h.jsxs)("div",{className:d.a.searchingJob,children:[Object(h.jsx)("img",{src:"data:image/png;base64,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"}),Object(h.jsx)("span",{children:t.lookingForAJobDescription})]}):Object(h.jsx)("span",{children:"\u041d\u0435 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443."})}),Object(h.jsx)(M,{profile:t})]})},B=function(e){var t=e.profile,o=e.updateStatus,i=e.status,s=e.isOwner,n=e.savePhoto,r=e.updateProfile,c=e.authorizedUserId,a=e.toggleEditMode,l=e.infoEditMode;if(!t)return Object(h.jsx)(j.a,{});return Object(h.jsxs)("div",{className:d.a.content,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:t.photos.large||f.a,className:d.a.profilePhoto}),s&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"file",accept:"image/jpeg",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})}),Object(h.jsx)(p,{updateStatus:o,status:i})]}),console.log(l),l?Object(h.jsx)(v,{updateProfile:r,authorizedUserId:c,toggleEditMode:a,profile:t}):Object(h.jsx)(I,{profile:t,toggleEditMode:a,isOwner:s})]})},E=o(12),Y=o(306),k=o.n(Y),G=o(307),w=o.n(G),D=function(e){return Object(h.jsxs)("div",{className:w.a.item,children:[Object(h.jsx)("img",{src:e.avatar}),e.text,Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:[e.likes," likes"]})})]})},C=o(294),N=o(295),P=o(58),y=o(51),U=o(69),z=o.n(U),J=function(e){var t=Object(O.a)({initialValues:{post:""},validationSchema:x.a({post:x.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430").max(10,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f - 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),onSubmit:function(t){e.addNewPost(t)}});return Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"My posts Formik"}),Object(h.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(h.jsxs)("div",{className:z.a.formControl+" "+(t.touched.post&&t.errors.post?z.a.error:""),children:[Object(h.jsx)("textarea",{placeholder:"Enter your text.",name:"post",id:"post",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.post}),t.touched.post&&t.errors.post?Object(h.jsx)("div",{children:t.errors.post}):null]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"Add post"})})]})]})},S=Object(P.a)(10),F=n.a.memo((function(e){var t=Object(E.a)(e.postsData).reverse().map((function(e){return Object(h.jsx)(D,{text:e.text,likes:e.likes,avatar:e.avatar,id:e.id},e.id)})),o=function(t){e.addPost(t.post)};return Object(h.jsxs)("div",{className:k.a.postsBlock,children:[Object(h.jsx)("h3",{children:"My posts"}),Object(h.jsx)(Q,{onSubmit:o}),Object(h.jsx)(J,{addNewPost:o}),Object(h.jsx)("div",{className:k.a.posts,children:t})]})})),Q=Object(N.a)({form:"posts"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)("div",{children:Object(h.jsx)(C.a,{placeholder:"Enter your text.",component:y.b,name:"post",validate:[P.b,S]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"Add post"})})]})})),H=F,T=Object(r.b)((function(e){return{postsData:e.profilePage.postsData,inputInner:e.profilePage.inputInner}}),(function(e){return{addPost:function(t){e(Object(c.a)(t))}}}))(H),V=function(e){return Object(h.jsxs)("div",{className:l.a.content,children:[Object(h.jsx)(B,{profile:e.profile,updateStatus:e.updateStatus,status:e.status,isOwner:e.isOwner,savePhoto:e.savePhoto,updateProfile:e.updateProfile,authorizedUserId:e.authorizedUserId,toggleEditMode:e.toggleEditMode,infoEditMode:e.infoEditMode}),Object(h.jsx)(T,{})]})},Z=o(5),R=o(297),_=o(16),L=function(e){return Object(s.useEffect)((function(){var t;e.match?t=e.match.params.userId:(t=e.authorizedUserId)||e.history.push("/login"),e.getUserProfile(t),e.getUserStatus(t)}),[e.match]),Object(h.jsx)(V,Object(i.a)(Object(i.a)({},e),{},{profile:e.profile,status:e.userStatus,updateStatus:e.updateStatus,isOwner:!e.match,savePhoto:e.savePhoto,updateProfile:e.updateProfile,authorizedUserId:e.authorizedUserId,toggleEditMode:e.toggleEditMode,infoEditMode:e.infoEditMode}))};t.default=Object(_.d)(Object(r.b)((function(e){return{profile:e.profilePage.profile,userStatus:e.profilePage.userStatus,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,infoEditMode:e.profilePage.infoEditMode}}),{getUserProfile:c.c,getUserStatus:c.d,updateStatus:c.h,savePhoto:c.e,updateProfile:c.g,toggleEditMode:c.f}),R.a)((function(e){var t=Object(Z.g)("/profile/:userId/");return Object(h.jsx)(L,Object(i.a)(Object(i.a)({},e),{},{match:t}))}))}}]);
//# sourceMappingURL=3.29532220.chunk.js.map